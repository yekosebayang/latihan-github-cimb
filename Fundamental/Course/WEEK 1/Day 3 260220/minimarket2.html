<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //stock item
      let angr = parseInt(20);
      let jruk = parseInt(15);
      let mgga = parseInt(25);
      let apel = parseInt(10);

      //stock item harga
      let pangr = parseInt(1);
      let pjruk = parseInt(2);
      let pmgga = parseInt(3);
      let papel = parseInt(4);

      //var untuk while
      let vsatu = true
      let vduwa = true
      let vtiga = true
      let vempt = true
      //boolean
      let pymt = true
      let smwa = true

      //var pancingan
      let satu
      let duwa
      let tiga
      let empt  

      while (smwa == true)
      { alert("TOKO EMPAT BUAH")
        while(vsatu){
          satu = parseInt(prompt("Anggur 20/pcs   | Stock tersedia: " + angr))
          if (satu < 0 || satu>angr){
            alert("gaboleh negatif / lebih dari stock, isi ulang!")}
          else
            angr -= satu
            vsatu = false}
        while(vduwa){
          duwa = parseInt(prompt("Jeruk 15/pcs   | Stock tersedia: " + jruk))
          if (duwa < 0 ||duwa>jruk){
            alert("gaboleh negatif / lebih dari stock, isi ulang!")}
          else
            jruk -= duwa
            vduwa = false}
        while(vtiga){
          tiga = parseInt(prompt("Mangga 25/pcs   | Stock tersedia: " + mgga))
          if (tiga < 0 ||tiga>mgga){
            alert("gaboleh negatif / lebih dari stock, isi ulang!")}
          else
            mgga -= tiga
            vtiga = false}
        while(vempt){
          empt = parseInt(prompt("Apel 10/pcs   | Stock tersedia: " + apel))
          if (empt < 0 ||empt>apel){
            alert("gaboleh negatif / lebih dari stock, isi ulang!")}
          else
            apel -= empt
            vempt = false}         
        //  hitung
        let total = parseInt((satu*pangr) + (duwa*pjruk) + (tiga*pmgga) + (empt*papel))
        pymt = true
        while (pymt == true) 
          {
            let bayar = parseInt(prompt("Total belanjaan = " + total + " Masukan uang anda"))
            if (bayar < total) {
              alert("Uangnya kurang " + (total - bayar))
              alert("input ulang uangnya")
              continue}
            else if (bayar > total){
              alert("Kembalianya " + (bayar - total) +  ". ikhlasin ya :)")
              pymt = false}
            else if (bayar == total){
              alert("Terimakasih, uangnya pas");
              pymt = false}
            
            let blen = confirm("Jajan lagi?")
            if (blen == true){
            //stock item update
              vsatu = true
              vduwa = true
              vtiga = true
              vempt = true
              main = true}
            else 
              main = false
          }
      }
      alert("Terimakasih sudah berbelanja");
    </script>
  </body>
</html>
