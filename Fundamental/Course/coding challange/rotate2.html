<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table, tr, td, th{
            border: 1px solid black;
            border-collapse: collapse;
            text-align: center;}
    </style>
</head>
<body>
    <center>
        <table>
            <thead>
                <tr>
                    <th><input type="button" value="sort" onclick="fungsiSort('A')"></th>
                    <th><input type="button" value="sort2" onclick="fungsiSort('B')"></th>
                    <th><input type="button" value="sort3" onclick="fungsiSort('C')"></th>
                    <th><input type="button" value="sort4" onclick="fungsiSort('D')"></th>
                </tr>
            </thead>
            <tbody id="trainocate">
            </tbody>
        </table><br>
        <table>
            <tr>
              <td><input type="number" id="numberRotate" placeholder="Input Number"></td>
              <td><input type="button" value="Left Rotate" onclick="putarkeKiri(1)"></td>
              <td><input type="button" value="Right Rotate"onclick="putarkeKiri(0)"></td>
            </tr>
          </table>
    </center>
    
    <script>
        let isNama = true
        class Orang{
    constructor(A, B, C, D){// kalo ga ada di parameter tapi ada di dalam class, pasti kepanggil
        this.A = A 
        this.B = B 
        this.C = C
        this.D = D
    } 
}
let dataOrang =
    [new Orang(1,5,9,13),
    new Orang(2,6,10,14),
    new Orang(3,7,11,15),
    new Orang(4,8,12,16)]


const tampilData = (arr = dataOrang) => {
    let hasil = ''
    arr.forEach(({A, B, C, D}, index)=>{ //setiap pengulangan for each dia mau ngapain
        // for each adalah function yang memerlukan callback funtion sebagai parameternya
        hasil += `
        <tr>
            <td>${A}</td>
            <td>${B}</td>
            <td>${C}</td>
            <td>${D}</td>
            <td><input type="button" value="sort${index+1}" onclick="fungsiSort2(${index}); tampilData()"></td>
        </tr>`
    })
        document.getElementById('trainocate').innerHTML = hasil
}

const fungsiSort = (lyodra) => {
        let arrnew = []
        vertikal1 = dataOrang[0][lyodra]
        vertikal2 = dataOrang[1][lyodra]
        vertikal3 = dataOrang[2][lyodra]
        vertikal4 = dataOrang[3][lyodra]
        arrnew.push(vertikal1, vertikal2, vertikal3, vertikal4)
        arrnew.sort(function(a,b){
            let comparison = 0;
            if (a > b) {// bracket => nama juga, tapi ada string di dalamnya
                comparison = 1;}
            else if (a < b) {
                comparison = -1;}
                if (isNama == true){
                    console.log('masuk if')
                    return comparison}
                else{
                    console.log('masuk else')
                    return comparison*-1}            
        })
        for (let i=0; i<arrnew.length; i++){
            dataOrang[i][lyodra] = arrnew[i]
            console.log(dataOrang[i][lyodra])
        }
    tampilData()
    isNama = !isNama
}

const fungsiSort2 = (lyodra) => {
        let arrnew = []
        horizontal1 = dataOrang[lyodra].A
        horizontal2 = dataOrang[lyodra].B
        horizontal3 = dataOrang[lyodra].C
        horizontal4 = dataOrang[lyodra].D
        arrnew.push(horizontal1, horizontal2, horizontal3, horizontal4)
        arrnew.sort(function(a,b){
            let comparison = 0;
            if (a > b) {// bracket => nama juga, tapi ada string di dalamnya
                comparison = 1;}
            else if (a < b) {
                comparison = -1;}
                if (isNama == true){
                    console.log('masuk if')
                    return comparison}
                else{
                    console.log('masuk else')
                    return comparison*-1}            
        })
            dataOrang[lyodra].A = arrnew[0]
            dataOrang[lyodra].B = arrnew[1]
            dataOrang[lyodra].C = arrnew[2]
            dataOrang[lyodra].D = arrnew[3]
        
    tampilData()
    let temp = lyodra
    // if (temp)
    isNama = !isNama
}

const putarkeKiri = (lel) => {
    totalputar = document.getElementById('numberRotate').value
    if (lel == 0){
        totalputar *= 3
    }
    while(totalputar != 0){
        horizontalA1 = dataOrang[0].A
        horizontalA2 = dataOrang[0].B
        horizontalA3 = dataOrang[0].C

        vertikalL1 = dataOrang[1].A
        vertikalL2 = dataOrang[2].A
        vertikalL3 = dataOrang[3].A

        horizontalB1 = dataOrang[3].B
        horizontalB2 = dataOrang[3].C
        horizontalB3 = dataOrang[3].D
    
        vertikalR1 = dataOrang[1].D
        vertikalR2 = dataOrang[2].D
        vertikalR3 = dataOrang[3].D
        
    //==============================

        dataOrang[0].A = dataOrang[0].D
        dataOrang[3].A = horizontalA1
        dataOrang[3].D = vertikalL3
        dataOrang[0].D = horizontalB3

        dataOrang[0].B = dataOrang[1].D
        dataOrang[0].C = dataOrang[2].D
        
        dataOrang[1].A = horizontalA3
        dataOrang[2].A = horizontalA2

        dataOrang[3].B = vertikalL1
        dataOrang[3].C = vertikalL2

        dataOrang[1].D = horizontalB2
        dataOrang[2].D = horizontalB1
        totalputar -=1
    }
tampilData()
}
tampilData()
    
    </script>
</body>
</html>
